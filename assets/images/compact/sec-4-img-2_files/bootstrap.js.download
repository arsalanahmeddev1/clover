/**
 * Clover Web Bootstrap Version MTcyMTI1NzU1MDUwNg
 * Copyright © 2024 Clover - A Fiserv Company
 */

!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){if(e.__esModule)return e;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}var t={},o={},r={},i={};Object.defineProperty(i,"__esModule",{value:!0});var a={},s={};function c(e){return Object.getOwnPropertyNames(e).forEach((function(n){var t=e[n];t&&"object"==typeof t&&c(t)})),Object.freeze(e)}Object.defineProperty(s,"__esModule",{value:!0}),s.BOOTSTRAP_URL=s.ENV_PATTERNS=s.ENTRY_ASSETS_FILE=s.CONFIG_FILE=s.DIST_CONFIG_FILE=s.REMOTE_ENTRY_FILE=s.GLOBAL_DIRECTORY=s.CDN_PREFIX_PATH=s.CDN_CONFIG=s.GSHA_FILE=s.CONFIG_DIRECTORY=s.APP_TARGETS_BY_NAMESPACE=s.APP_TARGETS=s.APP_FOLDERS=void 0;s.CONFIG_DIRECTORY="_config";var p="_global";s.GLOBAL_DIRECTORY=p;var l="/web";s.CDN_PREFIX_PATH=l;s.CONFIG_FILE="apps.json";var u="config.json";s.DIST_CONFIG_FILE=u;s.REMOTE_ENTRY_FILE="remoteEntry.js";s.GSHA_FILE="gsha";s.ENTRY_ASSETS_FILE="entry-assets.json";var f=Object.freeze(["apps","internal-apps"]);s.APP_FOLDERS=f;var d="/([0-9a-zA-Z_-]+)/[0-9a-f]{7}/",g=c({dev:{host:"https://dev.cloverstatic.com"},prod:{host:"https://cloverstatic.com"}});s.CDN_CONFIG=g;var v=c(f.reduce((function(e,n){var t,o;return e[n]=(o="^".concat(t=n).concat(d).concat(u.replace(".",".")),{baseFolder:t,configPattern:new RegExp(o)}),e}),{}));s.APP_TARGETS=v;var _={standard:v.apps,internal:v["internal-apps"]};s.APP_TARGETS_BY_NAMESPACE=_;s.ENV_PATTERNS={DEV_LOCAL:/^(localhost|localhost:[0-9]{2,4}|.*\.netlify\.app|local\.dev\.clover\.com|192\..+)$/,DEV_PREVIEW:/^(.*\.netlify\.app)$/};var E="".concat(g.prod.host).concat(l,"/").concat(p,"/").concat("bootstrap.js");s.BOOTSTRAP_URL=E,Object.defineProperty(a,"__esModule",{value:!0}),a.isStandaloneApp=a.isMicroApp=a.isHostApp=a.isPreviewVersion=a.isAppPreview=a.getAppTargetByNamespace=void 0;var h=s;function P(e){return!!e&&e.startsWith("PR-")}a.getAppTargetByNamespace=function(e){return void 0===e&&(e="standard"),h.APP_TARGETS_BY_NAMESPACE[e]},a.isPreviewVersion=P,a.isAppPreview=function(e){return P(e.version)},a.isMicroApp=function(e){return e.type?"micro"===e.type:void 0!==e.hostApps},a.isStandaloneApp=function(e){return e.type?"standalone"===e.type:void 0===e.hostApps},a.isHostApp=function(e){return!0===e.isHostApp};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.getPublicPath=A.getDynamicPublicPathCode=A.getRemoteEntryPath=A.getGlobalConfigPath=A.getGshaPath=A.getEntryAssetsPath=A.getAppEnvConfigPath=A.getAppConfigPath=void 0;var m,b,y,O=s,C=a,w=Object.values(O.CDN_CONFIG).map((function(e){var n=Object.keys(e).map((function(n){return e[n]instanceof RegExp?"'".concat(n,"': /").concat(e[n].source,"/"):"'".concat(n,"': '").concat(e[n],"'")}));return"{ ".concat(n.join(",")," }")})).join(",");function T(e,n,t,o){var r=(0,C.isPreviewVersion)(o),i=(0,C.getAppTargetByNamespace)(t),a="".concat(i.baseFolder).concat(r?"-preview":"");return"/".concat(a,"/").concat(n,"/").concat(o?"".concat(o,"/"):"").concat(e)}function I(e){return"".concat(O.CDN_PREFIX_PATH).concat(T("",e.repo,e.namespace,e.version))}A.getDynamicPublicPathCode=function(e){var n=I(e);return(0,C.isAppPreview)(e)?'(function() { return "'.concat(O.CDN_CONFIG.dev.host).concat(n,'"; })()'):"(function() {\n    const c = [".concat(w,"]; \n    const p = '").concat(n,"';\n    for (let i = 0; i < c.length; i++) {\n      if (c[i].envPattern.test(window.location.origin)) { return c[i].host + p; }\n    }\n    return p;\n  })()")},A.getGlobalConfigPath=function(e,n){var t=n?"".concat(n,".json"):O.CONFIG_FILE,o=(0,C.getAppTargetByNamespace)(e);return"/".concat(o.baseFolder,"/").concat(O.CONFIG_DIRECTORY,"/").concat(t)},A.getRemoteEntryPath=function(e){return T(O.REMOTE_ENTRY_FILE,e.repo,e.namespace,e.version)},A.getEntryAssetsPath=function(e){return T(O.ENTRY_ASSETS_FILE,e.repo,e.namespace,e.version)},A.getAppConfigPath=function(e,n,t){return T(O.DIST_CONFIG_FILE,e,t,n)},A.getAppEnvConfigPath=function(e,n,t){var o="".concat(n,".json"),r=(0,C.getAppTargetByNamespace)(t);return"/".concat(r.baseFolder,"/").concat(e,"/").concat(O.CONFIG_DIRECTORY,"/").concat(o)},A.getGshaPath=function(e,n,t){return T(O.GSHA_FILE,e,t,n)},A.getPublicPath=I,m=r,b=e&&e.__createBinding||(Object.create?function(e,n,t,o){void 0===o&&(o=t);var r=Object.getOwnPropertyDescriptor(n,t);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,o,r)}:function(e,n,t,o){void 0===o&&(o=t),e[o]=n[t]}),y=e&&e.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||b(n,e,t)},Object.defineProperty(m,"__esModule",{value:!0}),y(i,m),y(a,m),y(A,m),y(s,m);var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.getEnvTypeFromHost=R.getEnvFromHost=R.isLocalEnvironment=void 0;var F=r;function N(e){return F.ENV_PATTERNS.DEV_LOCAL.test(e||location.hostname)}function S(e){var n=e.split("."),t=n[0],o=n[1],r=n[2];if("sandbox"===t)return{name:"sandboxprod",type:"prod"};if("dev"===o)return{name:t,type:"dev"};var i=2===o.length?o:"na",a=2===o.length?r:o;return{type:"prod"===(a="clover"===a?"prod":a)?"prod":"dev",name:"".concat(a,"-").concat(i)}}R.isLocalEnvironment=N,R.getEnvFromHost=function(e){var n=new URL(e||location.origin).hostname;return N(n)?"dev1":S(n).name},R.getEnvTypeFromHost=function(e){var n=new URL(e||location.origin).hostname;return N(n)?"local":S(n).type},Object.defineProperty(o,"__esModule",{value:!0}),o.getCdnFromHost=o.buildCdnUrl=o.getAppEnvConfigUrl=o.getAppConfigUrl=o.getRemoteEntryUrl=o.getGlobalConfigUrl=o.getEntryAssetsUrl=o.getAppAssetUrl=void 0;var j=r,G=R;function L(e){var n=(0,G.getEnvTypeFromHost)(e);return"local"===n?e:j.CDN_CONFIG[n].host}function $(e,n){var t=0===e.indexOf("".concat(j.CDN_PREFIX_PATH,"/"))?"":j.CDN_PREFIX_PATH;return"".concat(function(e){if(e)return j.CDN_CONFIG.dev.host;var n=window,t=n.originTop?n.originTop:n.top;return L((t?t.location:n.location).origin)}(n)).concat(t).concat(e)}o.getCdnFromHost=L,o.buildCdnUrl=$,o.getGlobalConfigUrl=function(e,n){return $((0,j.getGlobalConfigPath)(e,n))},o.getRemoteEntryUrl=function(e){return $((0,j.getRemoteEntryPath)(e),(0,j.isPreviewVersion)(e.version))},o.getEntryAssetsUrl=function(e){return $((0,j.getEntryAssetsPath)(e),(0,j.isPreviewVersion)(e.version))},o.getAppConfigUrl=function(e,n,t){return $((0,j.getAppConfigPath)(e,n,t),(0,j.isPreviewVersion)(n))},o.getAppAssetUrl=function(e,n){return $("/"!==e.charAt(0)?"/".concat(e):e,n)},o.getAppEnvConfigUrl=function(e,n,t){return $((0,j.getAppEnvConfigPath)(e,n,t))};var D={};Object.defineProperty(D,"__esModule",{value:!0}),function(n){var t=e&&e.__createBinding||(Object.create?function(e,n,t,o){void 0===o&&(o=t);var r=Object.getOwnPropertyDescriptor(n,t);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,o,r)}:function(e,n,t,o){void 0===o&&(o=t),e[o]=n[t]}),r=e&&e.__exportStar||function(e,n){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(n,o)||t(n,e,o)};Object.defineProperty(n,"__esModule",{value:!0}),r(o,n),r(R,n),r(D,n)}(t);const x="_vref";var M=Object.freeze({__proto__:null,PREVIEW_KEY:x,getLocalStorageOverrides:function(){return JSON.parse(localStorage.getItem(x)||"{}")},setLocalStorageOverrides:function(e){localStorage.setItem(x,JSON.stringify(e))}});function U(e){return`\n    #${e} {\n      position: fixed;\n      bottom: 0;\n      right: 0;\n      border-top-left-radius: 4px;\n      border: 1px solid #FFD100;\n      z-index: 2147483647;\n      background-color: #FFF6CC;\n      margin: auto;\n      padding: 9px 14px;\n      transition: max-height 0.25s ease, width 0.25s ease 0.25s, left 0.25s ease 0.25s;\n      width: 150px;\n      max-height: 40px;\n    }\n    \n    #${e}.open {\n      border-top-left-radius: 0;\n      max-height: 110px;\n      padding: 12px 18px;\n      width: 100vw;\n      transition: max-height 0.2s ease 0.275s, width 0.25s ease, left 0.25s ease;\n    }\n    \n    #${e} .hide-toggle {\n      cursor: pointer;\n      position: absolute;\n      top: 6px;\n      right: 10px;\n    }\n    \n    #${e} table {\n      margin-top: 5px;\n    }\n    \n    #${e} .hide-toggle span {\n      font-size: 1.3rem;\n    }\n    \n    #${e} .hide-toggle span::before {\n      content: "➕";\n    }\n    \n    #${e}.open .hide-toggle span::before {\n      content: "➖";\n    }\n   \n    #${e} .message {\n      font-size: 0.9rem;\n      margin: 0 20px;\n    }\n    #${e} strong {\n      font-family: Graphik, "Graphik Medium", Helvetica, Arial, sans-serif;\n      font-weight: 500;\n      font-size: 15px;\n    }\n    #${e} .message a {\n      color: #3271AB;\n      text-decoration: underline; \n      padding: 0 8px;\n    }\n    #${e} .close {\n      cursor: pointer;\n      display: inline-block;\n      position: relative;\n      user-select: none;\n    }\n    #${e} .close span {\n      display: inline-block;\n      font-size: 1rem;\n      margin: 0;\n      transition: transform 0.3s ease;\n    }\n    #${e} .close::after {\n      content: "← Clear Preview";\n      display: block;\n      font-family: Graphik, 'Graphik Medium', Helvetica, Arial, sans-serif;\n      font-size: 0.8rem;\n      opacity: 0;\n      position: absolute;\n      left: 45px;\n      top: 0;\n      transition: opacity 0.3s ease, right 0.3s ease;\n      white-space: nowrap;\n    }\n    #${e} .close:hover span {\n      transform: scale(1.375);\n    }\n    #${e} .close:hover::after {\n      opacity: 1;\n      left: 24px;\n    }`}function H(e){const n=r.isAppPreview(e)?{path:`/pull/${e.version.substring(3)}`,title:"View this Pull Request"}:{path:`/commit/${e.version}`,title:"View this Commit"};return`\n    <tr class="message">\n      <td>${e.id}</td>\n      <td><a href="https://github.corp.clover.com/clover/${e.repo}${n.path}" rel="noreferrer" target="_blank" title="${n.title}">${e.version}</a></td>\n      <td>\n        <div class="close" onclick="const overrides = JSON.parse(localStorage.getItem('_vref')); delete overrides['${e.id}']; localStorage.setItem('_vref', JSON.stringify(overrides)); location.href = location.pathname;">\n          <span>✖️</span>\n        </div>\n      </td>\n    </tr>\n    `}var B=n(Object.freeze({__proto__:null,getBanners:function(e){const n=e.map((e=>H(e))).join(" "),t=`cl-AppPreviewBanners-${Date.now()}`;return{styles:`<style>${U(t)}</style>`,markup:`\n      <div id="${t}">\n        <strong>App Previews</strong>\n        <table>\n        ${n}\n        </table>\n        <div class="hide-toggle" onclick="const element = document.getElementById('${t}'); element.classList.toggle('open');"><span></span></div>\n      </div> \n    `}},getBanner:H})),V=n(M);(function(e,n){const{getAppAssetUrl:o,getEntryAssetsUrl:i,getGlobalConfigUrl:a,getEnvFromHost:s,getAppEnvConfigUrl:c,getAppConfigUrl:p}=t,{ENV_PATTERNS:l,isPreviewVersion:u}=r,{getBanners:f}=B,{getLocalStorageOverrides:d,setLocalStorageOverrides:g,PREVIEW_KEY:v}=V,_=l.DEV_PREVIEW.test(n.location.origin)||n.Cypress;async function E(e){return window.fetch(e).then((e=>e.json()))}async function h(n){const t=await fetch(i(n)).then((e=>e.json()));!function(n){n.forEach((n=>{const t=e.createElement("link");t.setAttribute("href",o(n,_)),t.setAttribute("rel","stylesheet"),e.head.append(t)}))}(t.css||[]),function(n){n.forEach((n=>{const t=e.createElement("script");t.setAttribute("src",o(n,_)),t.setAttribute("defer","true"),e.head.append(t)}))}(t.js||[])}async function P(e,n){return E(a(e,n)).catch((()=>[]))}async function A(e,n,t){return E(p(n,t,e)).catch((()=>null))}async function m(e,n,t){return E(`${c(e,n,t)}?_=${Date.now()}`).catch((()=>null))}!async function(){const n=new Map,t=[];let o;try{const[,r]=e.currentScript.getAttribute("src").split("#"),{namespace:i,appId:a}=JSON.parse(atob(r));if(!i||!a)throw new Error("Missing appId or namespace properties.");const c=Object.entries(d());c.length&&c.forEach((([e,t])=>{n.set(e,t)}));const p=new URLSearchParams(location.search).get(v);if(p){const e=p.split(",");for(const t of e){const[e,o]=t.split(/[\s\+]/);n.set(e,o)}}if(n.size){for(const[e,o]of n){const r=await A(i,e,o);r?t.push({...r,preview:u(o)?"changeset":"preview"}):n.delete(e)}g(Object.fromEntries(n))}const l=s(),[E,b,y]=await Promise.all([P(i,l),P(i),m(a,l,i)]);window.APP_CONFIG=y||{};const O=[];if(b.forEach((e=>{const n=t.find((n=>n.id===e.id))||E.find((n=>n.id===e.id))||e;n.id===a&&(o=n),O.push(n)})),!o)throw new Error(`App configuration not found for appId "${a}" in "${i}" namespace.`);if(window.WEB_REMOTES=O,window.postMessage({type:"clover-dev",remotes:O},"*"),h(o),!_&&t.length){const n=f(t);e.head.insertAdjacentHTML("beforeend",n.styles),e.body.insertAdjacentHTML("beforeend",n.markup)}}catch(e){console.error(`Clover app bootstrap failed! [${e.message}]`,e)}}()})(document,window)}();
//# sourceMappingURL=bootstrap.js.map
